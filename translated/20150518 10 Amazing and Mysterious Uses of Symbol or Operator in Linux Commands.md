10个在Linux命令行下使用的惊人和奇妙的符号（!）
================================================================================
`'!'`符号在Linux中不但可以用作否定符号，还可以用来从历史命令记录中取出命令或不加修改的执行之前运行的命令。下面的所有命令都已经在Bash Shell中确切的经过检查。尽管我没有试过，但大多都不能在别的Shell中运行。这里我们介绍下Linux命令行中惊人和奇妙的符号`'!'`的使用。

### 1. 使用数字从历史命令列表中找一条命令来执行 ###

您也许没有意识到您可以从历史命令列表（之前已经执行的命令）中找出一条来运行。首先，通过'history'命令查找之前命令的序号。

    $ history

![使用history命令找到最后执行的命令](http://www.tecmint.com/wp-content/uploads/2015/05/history-Command.gif)

现在，只需要使用历史命令输出中显示在该命令前面的数字便可以运行这个命令。例如，运行一个在'history'输出中编号是1551的命令。

    $ !1551

![使用命令ID来执行最后运行的命令](http://www.tecmint.com/wp-content/uploads/2015/05/Run-Commands-By-number.gif)

这样，编号为1551的命令（上面的例子是[top命令][1]）便运行了。这种通过ID号来执行之前的命令的方式很有用，尤其是在这些命令都很长的情况下。您只需要使用**![history命令输出的序号]**便可以调用它。

### 2.运行之前的倒数第二个命令、倒数第七个命令等 ###

您可以以另一种方式来运行之前执行的命令，通过使用-1代表最后的命令，-2代表倒数第二个命令，-7代表倒数第七个命令等。

首先使用history命令来获得执行过的命令的列表。history命令的执行很有必要，因为您可以通过它来确保没有`rm command > file`或其他会导致危险的命令。接下来检查倒数第六个、第八个、第十个命令。

    $ history
    $ !-6
    $ !-8
    $ !-10

![通过数字运行最后执行的命令](http://www.tecmint.com/wp-content/uploads/2015/05/3.gif)
通过数字运行最后执行的命令

### 3.向最后的命令传递参数，以方便的运行新的命令 ###

我需要显示'/home/$USER/Binary/firefox'文件夹的内容，因此我执行：

    $ ls /home/$USER/Binary/firefox

接下来，我意识到我应该执行'ls -l'来查看哪个文件是可执行文件。因此我应该重新输入整个命令么？不，我不需要。我仅需要在新的命令中带上最后的参数，类似：

    $ ls -l !$

这里`!$`将把最后执行的命令的参数传递到这个新的命令中。

![将上一个命令的参数传递给新命令](http://www.tecmint.com/wp-content/uploads/2015/05/4.gif)
将上一个命令的参数传递给新命令

### 4.如何使用!来处理两个或更多的参数 ###

比如说我在桌面创建了一个文本文件file1.txt。

    $ touch /home/avi/Desktop/1.txt

然后在cp命令中使用绝对路径将它拷贝到'/home/avi/Downloads'。

    $ cp /home/avi/Desktop/1.txt /home/avi/downloads

现在，我们给cp命令传递了两个参数。第一个是'/home/avi/Desktop/1.txt'，第二个是'/home/avi/Downloads'。让我们分别处理他们，使用`echo [arguments]`来打印两个不同的参数。

    $ echo “1st Argument is : !^”
    $ echo “2nd Argument is : !cp:2”

注意第一个参数可以使用`“!^”`进行打印，其余的命令可以通过`“![命令编号]:[参数编号]”`打印。

在上面的例子中，第一个命令是‘cp‘，第二个参数也需要被打印。因此是`“!cp:2”`，如果任何命令比如xyz运行时有5个参数，而您需要获得第四个参数，您可以使用`“!xyz:4”`。所有的参数都可以通过`“!*”`来获得。

![处理两个或更多的参数](http://www.tecmint.com/wp-content/uploads/2015/05/5.gif)
处理两个或更多的参数

### 5.